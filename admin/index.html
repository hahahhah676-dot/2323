<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Panel</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        .tab-btn.border-yellow-400 { border-bottom-width: 2px; }
    </style>
</head>
<body class="bg-gray-900 text-white min-h-screen font-sans">
    <div class="container mx-auto p-4 sm:p-8 max-w-2xl">
        <header class="flex justify-between items-center mb-8">
            <h1 class="text-2xl sm:text-3xl font-bold">Welcome, Admin</h1>
            <div class="flex items-center space-x-4">
                <button id="reset-data-btn" class="bg-red-600 hover:bg-red-700 text-white font-bold py-2 px-4 rounded-lg transition duration-300">Reset Data</button>
                <a href="../index.html" class="bg-yellow-400 hover:bg-yellow-500 text-gray-900 font-bold py-2 px-4 rounded-lg transition duration-300">View Site</a>
            </div>
        </header>

        <main class="bg-gray-800 p-6 sm:p-8 rounded-lg shadow-2xl">
            <!-- Tabs -->
            <div class="grid grid-cols-2 sm:grid-cols-5 border-b border-gray-700 mb-6">
                <button data-target="add-anime" class="tab-btn text-yellow-400 border-yellow-400 py-3 font-semibold transition duration-300">Add Anime</button>
                <button data-target="add-episode" class="tab-btn text-gray-400 border-transparent hover:text-yellow-400 py-3 font-semibold transition duration-300">Add Episode</button>
                <button data-target="edit-anime" class="tab-btn text-gray-400 border-transparent hover:text-yellow-400 py-3 font-semibold transition duration-300">Edit Anime</button>
                <button data-target="edit-episode" class="tab-btn text-gray-400 border-transparent hover:text-yellow-400 py-3 font-semibold transition duration-300">Edit Episode</button>
                <button data-target="manage-schedule" class="tab-btn text-gray-400 border-transparent hover:text-yellow-400 py-3 font-semibold transition duration-300">Schedule</button>
            </div>

            <!-- Add Anime Content -->
            <div id="add-anime" class="tab-content">
                <h2 class="text-xl font-bold mb-4">Add New Anime</h2>
                <form id="add-anime-form" class="space-y-4">
                    <div>
                        <label for="add-title" class="block text-sm font-medium text-gray-300 mb-1">Title</label>
                        <input type="text" id="add-title" name="title" required class="w-full bg-gray-700 rounded p-2 focus:outline-none focus:ring-2 focus:ring-yellow-400">
                    </div>
                    <div>
                        <label for="add-synopsis" class="block text-sm font-medium text-gray-300 mb-1">Synopsis</label>
                        <textarea id="add-synopsis" name="synopsis" rows="4" required class="w-full bg-gray-700 rounded p-2 focus:outline-none focus:ring-2 focus:ring-yellow-400"></textarea>
                    </div>
                    <div>
                        <label for="add-poster" class="block text-sm font-medium text-gray-300 mb-1">Cover Image URL</label>
                        <input type="url" id="add-poster" name="poster" class="w-full bg-gray-700 rounded p-2 focus:outline-none focus:ring-2 focus:ring-yellow-400">
                    </div>
                    <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
                        <div>
                            <label for="add-rating" class="block text-sm font-medium text-gray-300 mb-1">Rating (0-10)</label>
                            <input type="number" id="add-rating" name="rating" value="0" step="0.1" min="0" max="10" class="w-full bg-gray-700 rounded p-2 focus:outline-none focus:ring-2 focus:ring-yellow-400">
                        </div>
                        <div>
                            <label for="add-type" class="block text-sm font-medium text-gray-300 mb-1">Type</label>
                            <select id="add-type" name="type" class="w-full bg-gray-700 rounded p-2 focus:outline-none focus:ring-2 focus:ring-yellow-400">
                                <option value="TV Series">TV Series</option>
                                <option value="Movie">Movie</option>
                            </select>
                        </div>
                    </div>
                     <div>
                        <label for="add-genres" class="block text-sm font-medium text-gray-300 mb-1">Genres (comma-separated)</label>
                        <input type="text" id="add-genres" name="genres" required class="w-full bg-gray-700 rounded p-2 focus:outline-none focus:ring-2 focus:ring-yellow-400">
                    </div>
                    <div class="grid grid-cols-2 gap-4">
                        <div class="flex items-center">
                            <input type="checkbox" id="add-isPopular" name="isPopular" class="h-4 w-4 bg-gray-700 border-gray-600 rounded text-yellow-500 focus:ring-yellow-400">
                            <label for="add-isPopular" class="ml-2 block text-sm text-gray-300">Mark as Popular</label>
                        </div>
                         <div class="flex items-center">
                            <input type="checkbox" id="add-isTopRated" name="isTopRated" class="h-4 w-4 bg-gray-700 border-gray-600 rounded text-yellow-500 focus:ring-yellow-400">
                            <label for="add-isTopRated" class="ml-2 block text-sm text-gray-300">Mark as Top Rated</label>
                        </div>
                    </div>
                    <button type="submit" class="w-full bg-yellow-400 hover:bg-yellow-500 text-gray-900 font-bold py-3 px-4 rounded-lg transition duration-300">Add Anime</button>
                </form>
            </div>

            <!-- Add Episode Content -->
            <div id="add-episode" class="tab-content hidden">
                <h2 class="text-xl font-bold mb-4">Add New Episode</h2>
                <form id="add-episode-form" class="space-y-4">
                    <div>
                        <label for="add-ep-donghua" class="block text-sm font-medium text-gray-300 mb-1">Anime</label>
                        <select id="add-ep-donghua" name="donghua" required class="w-full bg-gray-700 rounded p-2 focus:outline-none focus:ring-2 focus:ring-yellow-400"></select>
                    </div>
                    <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
                        <div>
                            <label for="add-ep-number" class="block text-sm font-medium text-gray-300 mb-1">Episode Number</label>
                            <input type="number" id="add-ep-number" name="number" required class="w-full bg-gray-700 rounded p-2 focus:outline-none focus:ring-2 focus:ring-yellow-400">
                        </div>
                        <div>
                            <label for="add-ep-title" class="block text-sm font-medium text-gray-300 mb-1">Episode Title</label>
                            <input type="text" id="add-ep-title" name="title" required class="w-full bg-gray-700 rounded p-2 focus:outline-none focus:ring-2 focus:ring-yellow-400">
                        </div>
                    </div>
                    <div>
                        <label for="add-ep-url" class="block text-sm font-medium text-gray-300 mb-1">Video URL</label>
                        <input type="url" id="add-ep-url" name="url" required class="w-full bg-gray-700 rounded p-2 focus:outline-none focus:ring-2 focus:ring-yellow-400">
                    </div>
                    <button type="submit" class="w-full bg-yellow-400 hover:bg-yellow-500 text-gray-900 font-bold py-3 px-4 rounded-lg transition duration-300">Add Episode</button>
                </form>
            </div>

            <!-- Edit Anime Content -->
            <div id="edit-anime" class="tab-content hidden">
                <h2 class="text-xl font-bold mb-4">Edit Anime</h2>
                 <div class="space-y-4">
                    <select id="edit-anime-select" class="w-full bg-gray-700 rounded p-2 focus:outline-none focus:ring-2 focus:ring-yellow-400 mb-4"></select>
                    <form id="edit-anime-form" class="space-y-4 hidden">
                        <input type="hidden" name="id">
                        <div>
                            <label class="block text-sm font-medium text-gray-300 mb-1">Title</label>
                            <input type="text" name="title" required class="w-full bg-gray-700 rounded p-2 focus:outline-none focus:ring-2 focus:ring-yellow-400">
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-300 mb-1">Synopsis</label>
                            <textarea name="synopsis" rows="4" required class="w-full bg-gray-700 rounded p-2 focus:outline-none focus:ring-2 focus:ring-yellow-400"></textarea>
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-300 mb-1">Cover Image URL</label>
                            <input type="url" name="poster" class="w-full bg-gray-700 rounded p-2 focus:outline-none focus:ring-2 focus:ring-yellow-400">
                        </div>
                         <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
                            <div>
                                <label class="block text-sm font-medium text-gray-300 mb-1">Rating (0-10)</label>
                                <input type="number" name="rating" step="0.1" min="0" max="10" class="w-full bg-gray-700 rounded p-2 focus:outline-none focus:ring-2 focus:ring-yellow-400">
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-300 mb-1">Type</label>
                                <select name="type" class="w-full bg-gray-700 rounded p-2 focus:outline-none focus:ring-2 focus:ring-yellow-400">
                                    <option value="TV Series">TV Series</option>
                                    <option value="Movie">Movie</option>
                                </select>
                            </div>
                        </div>
                         <div>
                            <label class="block text-sm font-medium text-gray-300 mb-1">Genres (comma-separated)</label>
                            <input type="text" name="genres" required class="w-full bg-gray-700 rounded p-2 focus:outline-none focus:ring-2 focus:ring-yellow-400">
                        </div>
                         <div class="grid grid-cols-2 gap-4">
                            <div class="flex items-center">
                                <input type="checkbox" id="edit-isPopular" name="isPopular" class="h-4 w-4 bg-gray-700 border-gray-600 rounded text-yellow-500 focus:ring-yellow-400">
                                <label for="edit-isPopular" class="ml-2 block text-sm text-gray-300">Mark as Popular</label>
                            </div>
                            <div class="flex items-center">
                                <input type="checkbox" id="edit-isTopRated" name="isTopRated" class="h-4 w-4 bg-gray-700 border-gray-600 rounded text-yellow-500 focus:ring-yellow-400">
                                <label for="edit-isTopRated" class="ml-2 block text-sm text-gray-300">Mark as Top Rated</label>
                            </div>
                        </div>
                        <div class="flex items-center space-x-4">
                            <button type="submit" class="flex-grow bg-yellow-400 hover:bg-yellow-500 text-gray-900 font-bold py-3 px-4 rounded-lg transition duration-300">Update Anime</button>
                            <button type="button" id="delete-anime-btn" class="bg-red-600 hover:bg-red-700 text-white font-bold py-3 px-4 rounded-lg transition duration-300">Delete</button>
                        </div>
                    </form>
                 </div>
            </div>

            <!-- Edit Episode Content -->
            <div id="edit-episode" class="tab-content hidden">
                 <h2 class="text-xl font-bold mb-4">Edit Episode</h2>
                 <div class="space-y-4">
                    <select id="edit-episode-select-donghua" class="w-full bg-gray-700 rounded p-2 focus:outline-none focus:ring-2 focus:ring-yellow-400"></select>
                    <select id="edit-episode-select-episode" class="w-full bg-gray-700 rounded p-2 focus:outline-none focus:ring-2 focus:ring-yellow-400 mt-2"></select>
                    <form id="edit-episode-form" class="space-y-4 hidden mt-4">
                        <input type="hidden" name="donghuaId">
                        <input type="hidden" name="originalNumber">
                        <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
                            <div>
                                <label class="block text-sm font-medium text-gray-300 mb-1">Episode Number</label>
                                <input type="number" name="number" required class="w-full bg-gray-700 rounded p-2 focus:outline-none focus:ring-2 focus:ring-yellow-400">
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-300 mb-1">Episode Title</label>
                                <input type="text" name="title" required class="w-full bg-gray-700 rounded p-2 focus:outline-none focus:ring-2 focus:ring-yellow-400">
                            </div>
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-300 mb-1">Video URL</label>
                            <input type="url" name="url" required class="w-full bg-gray-700 rounded p-2 focus:outline-none focus:ring-2 focus:ring-yellow-400">
                        </div>
                        <div class="flex items-center space-x-4">
                            <button type="submit" class="flex-grow bg-yellow-400 hover:bg-yellow-500 text-gray-900 font-bold py-3 px-4 rounded-lg transition duration-300">Update Episode</button>
                            <button type="button" id="delete-episode-btn" class="bg-red-600 hover:bg-red-700 text-white font-bold py-3 px-4 rounded-lg transition duration-300">Delete</button>
                        </div>
                    </form>
                 </div>
            </div>
            
            <!-- Manage Schedule Content -->
            <div id="manage-schedule" class="tab-content hidden">
                <h2 class="text-xl font-bold mb-4">Manage Schedule</h2>
                <form id="schedule-form" class="space-y-4 bg-gray-700 p-4 rounded-lg mb-6">
                    <h3 id="schedule-form-title" class="text-lg font-semibold">Add Schedule Entry</h3>
                    <input type="hidden" name="scheduleId">
                    <div>
                        <label class="block text-sm font-medium text-gray-300 mb-1">Anime</label>
                        <select name="donghuaId" required class="w-full bg-gray-600 rounded p-2 focus:outline-none focus:ring-2 focus:ring-yellow-400"></select>
                    </div>
                    <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
                        <div>
                            <label class="block text-sm font-medium text-gray-300 mb-1">Day</label>
                            <select name="day" required class="w-full bg-gray-600 rounded p-2 focus:outline-none focus:ring-2 focus:ring-yellow-400">
                                <option>Sunday</option>
                                <option>Monday</option>
                                <option>Tuesday</option>
                                <option>Wednesday</option>
                                <option>Thursday</option>
                                <option>Friday</option>
                                <option>Saturday</option>
                            </select>
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-300 mb-1">Time</label>
                            <input type="time" name="time" required class="w-full bg-gray-600 rounded p-2 focus:outline-none focus:ring-2 focus:ring-yellow-400">
                        </div>
                    </div>
                    <button type="submit" class="w-full bg-yellow-400 hover:bg-yellow-500 text-gray-900 font-bold py-3 px-4 rounded-lg transition duration-300">Add to Schedule</button>
                </form>
                
                <h3 class="text-lg font-semibold mb-4">Current Schedule</h3>
                <div id="schedule-list" class="space-y-3"></div>
            </div>

        </main>
    </div>
    <script src="admin.js"></script>
</body>
</html>